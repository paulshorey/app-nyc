<ion-view>
	
	<div class="utop">

		<div class="unav">
			<a class="uui-icon ion-plus" href="/" prevent-default ng-click="vm.clearActive(); vm.addList()"></a> <span class="uui-title">suggest a source</span> 
			<span class="uui-title">...</span>
			<div class="utop-title" ng-if="user.displayName">
				<span class="uui-title">Welcome, {{ user.displayName }} (<a href="/" prevent-default ng-click="vm.logout()">logout</a>)</span>
			</div>
			<div class="utop-title" ng-if="!user.displayName">
				<span class="uui-title">login to save your search: </span> 
				<button class="uui-icon ion-social-facebook" ng-click="vm.login('facebook')"></button>
				<button class="uui-icon ion-social-google" ng-click="vm.login('google')"></button>
				<button class="uui-icon ion-social-github" ng-click="vm.login('github')"></button>
				<a class="uui-icon ion-unlocked"  href="/" prevent-default ng-click="vm.clearActive(); vm.addList()"></a>
			</div>
		</div>

	</div>

	<div class="ucontent">
		<h1 class="ucontent-title">
			<div ng-if="user">
				{{vm.lists.length}} Lists
			</div>
			<div ng-if="!user && vm.lists !== undefined">
				Community Lists
			</div>
		</h1>

		<div class="ulists">

			<div class="ulist" ng-repeat="item in vm.lists" ng-class="{ 'active' : item.id === vm.active }" on-tap="vm.setActive(item._id)">
				<div class="ulist-header">
					<span class="ulist-buttons ulist-buttons-left">
						<button class="uui-icon uui-hint-subtle icon-star-outline" ng-click="vm.setStatus(item)" ng-class="{ 'balanced' : item.complete }"></button>
					</span>
					<span class="ulist-title">
						<span class="uui-title">{{ item.category }}</span>
						<span class="uui-title">{{ item.time }}</span>
						<span class="uui-title">{{ item.scene }}</span>
						<span class="uui-title">{{ item.text }}</span>
					</span>
					<span class="ulist-buttons ulist-buttons-right">
						<button class="uui-icon uui-hollow ion-edit" ng-click="vm.editList(item._id)"></button>
						<button class="uui-icon uui-hollow ion-close" ng-click="vm.deleteList(item._id)"></button>
					</span>
				</div>

				<div class="ulist-events" id="{{item.id}}_events"></div>
			</div>

		</div>

		<div class="card" ng-show="vm.lists.length === 0">
			<div class="item item-body center-align">
				<h2 class="dark">
					Umm..it's empty in here..
				</h2>
				<h2 class="dark">
					Try adding a list by clicking the <i class="ion-plus-circled dark"></i>icon in the top right corner.
				</h2>
			</div>
		</div>

	</div>

</ion-view>